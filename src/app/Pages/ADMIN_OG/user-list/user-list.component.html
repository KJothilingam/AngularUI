<app-nav-bar></app-nav-bar>
<section class="user-section">
  <h2>Registered Users</h2>
  <div class="user-container">
    <div class="user-card" *ngFor="let user of users(); trackBy: trackByUserId">
      <div class="profile-pic">
        <img *ngIf="user.imageUrl" [src]="user.imageUrl" alt="User Image" style="width: 100%; height: 100%; border-radius: 50%;">
      </div>
      
      <div class="user-info">
        <p>Name: {{ user.userName }}</p>
        <p>ID: {{ user.userId }}</p>
        <p>Phone No: {{ user.phoneNo }}</p>
        <p>Security Deposit: â‚¹{{ user.securityDeposit }}</p>
      </div>
      
      <div class="button-container">
        <button class="update-btn" (click)="editUser(user)">Update</button>
        <button class="delete-btn" (click)="deleteUser(user.userId)">Delete</button>
      </div>
    </div>
  </div>
</section>

<div *ngIf="showUpdateForm" class="modal">
  <div class="modal-content">
    <h2>Update User</h2>
    
    <form class="user-form" (submit)="updateUser()">
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" [(ngModel)]="selectedUser!.userName" name="userName" required />
      </div>

      <div class="form-group">
        <label for="phone">Phone No:</label>
        <input type="text" id="phone" [(ngModel)]="selectedUser!.phoneNo" name="phoneNo" required />
      </div>

      <div class="form-group">
        <label for="deposit">Security Deposit:</label>
        <input type="number" id="deposit" [(ngModel)]="selectedUser!.securityDeposit" name="securityDeposit" required />
      </div>

      <div class="button-group">
        <button type="submit" class="update-btn">Save</button>
        <button type="button" class="cancel-btn" (click)="cancelUpdate()">Cancel</button>
      </div>
    </form>
  </div>
</div>
